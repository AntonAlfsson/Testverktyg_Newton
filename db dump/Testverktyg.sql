-- MySQL Script generated by MySQL Workbench
-- Thu Feb 23 12:28:25 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema testverktyg
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema testverktyg
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `testverktyg` DEFAULT CHARACTER SET utf8 ;
USE `testverktyg` ;

-- -----------------------------------------------------
-- Table `testverktyg`.`Student`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Student` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `klass` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Student` (`id`,`klass`) VALUES (1,'Sysjm2');
INSERT INTO `Student` (`id`,`klass`) VALUES (2,'Sysjm2');
INSERT INTO `Student` (`id`,`klass`) VALUES (3,'Sysjm2');
INSERT INTO `Student` (`id`,`klass`) VALUES (4,'Sysjm1');
INSERT INTO `Student` (`id`,`klass`) VALUES (5,'Sysjm1');
INSERT INTO `Student` (`id`,`klass`) VALUES (6,'Sysjm1');
INSERT INTO `Student` (`id`,`klass`) VALUES (7,'Sysjm1');
INSERT INTO `Student` (`id`,`klass`) VALUES (8,'Sysjm1');


-- -----------------------------------------------------
-- Table `testverktyg`.`Teacher`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Teacher` (
  `idTeacher` INT(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`idTeacher`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Teacher` (`idTeacher`) VALUES (1);
INSERT INTO `Teacher` (`idTeacher`) VALUES (2);


-- -----------------------------------------------------
-- Table `testverktyg`.`Person`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Person` (
  `pNr` VARCHAR(12) NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  `lösen` VARCHAR(45) NULL DEFAULT NULL,
  `Student_id` INT(11) NULL,
  `Teacher_idTeacher` INT(11) NULL,
  PRIMARY KEY (`pNr`),
  INDEX `fk_Person_Student1_idx` (`Student_id` ASC),
  INDEX `fk_Person_Teacher1_idx` (`Teacher_idTeacher` ASC),
  CONSTRAINT `fk_Person_Student1`
    FOREIGN KEY (`Student_id`)
    REFERENCES `testverktyg`.`Student` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Person_Teacher1`
    FOREIGN KEY (`Teacher_idTeacher`)
    REFERENCES `testverktyg`.`Teacher` (`idTeacher`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('196412083434','Johanna Andersson',NULL,NULL,1);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('197801147878','Carl Hamilton','1234',NULL,2);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('198804045678','Isabelle Larsson','1234',2,NULL);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('199204011234','Alexandra Karlsson',NULL,7,NULL);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('199306177898','Andreas Persson',NULL,6,NULL);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('199410026789','Hanna Jepsson',NULL,4,NULL);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('199411146787','Alexande Lundgren',NULL,5,NULL);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('199412093456','Rasmus Karlsson','1234',1,NULL);
INSERT INTO `Person` (`pNr`,`Name`,`lösen`,`Student_id`,`Teacher_idTeacher`) VALUES ('199502253456','Hampus Persson',NULL,3,NULL);



-- -----------------------------------------------------
-- Table `testverktyg`.`Test`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Test` (
  `idTest` INT(11) NOT NULL,
  `Title` VARCHAR(45) NOT NULL,
  `start` DATETIME NULL DEFAULT NULL,
  `stop` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`idTest`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Test` (`idTest`,`Title`,`start`,`stop`) VALUES (1,'Math A','2017-03-03 00:00:00','2017-03-23 00:00:00');



-- -----------------------------------------------------
-- Table `testverktyg`.`Person_has_Test`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Person_has_Test` (
  `Person_pNr` VARCHAR(12) NOT NULL,
  `Test_idTest` INT(11) NOT NULL,
  PRIMARY KEY (`Person_pNr`, `Test_idTest`),
  INDEX `fk_Person_has_Test_Test1_idx` (`Test_idTest` ASC),
  INDEX `fk_Person_has_Test_Person1_idx` (`Person_pNr` ASC),
  CONSTRAINT `fk_Person_has_Test_Person1`
    FOREIGN KEY (`Person_pNr`)
    REFERENCES `testverktyg`.`Person` (`pNr`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Person_has_Test_Test1`
    FOREIGN KEY (`Test_idTest`)
    REFERENCES `testverktyg`.`Test` (`idTest`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Person_has_Test` (`Person_pNr`,`Test_idTest`) VALUES ('198804045678',1);
INSERT INTO `Person_has_Test` (`Person_pNr`,`Test_idTest`) VALUES ('199204011234',1);
INSERT INTO `Person_has_Test` (`Person_pNr`,`Test_idTest`) VALUES ('199306177898',1);


-- -----------------------------------------------------
-- Table `testverktyg`.`Question`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Question` (
  `idQuestion` INT(11) NOT NULL AUTO_INCREMENT,
  `Title` VARCHAR(45) NOT NULL,
  `Question` MEDIUMTEXT NOT NULL,
  `HTML-element` MEDIUMTEXT NULL DEFAULT NULL,
  `img` MEDIUMTEXT NULL DEFAULT NULL,
  `type` VARCHAR(45) NOT NULL,
  `Test_idTest` INT(11) NOT NULL,
  PRIMARY KEY (`idQuestion`),
  INDEX `fk_Question_Test_idx` (`Test_idTest` ASC),
  CONSTRAINT `fk_Question_Test`
    FOREIGN KEY (`Test_idTest`)
    REFERENCES `testverktyg`.`Test` (`idTest`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Question` (`idQuestion`,`Title`,`Question`,`HTML-element`,`img`,`type`,`Test_idTest`) VALUES (1,'Question 1','What is the diameter of the moon?',NULL,NULL,'mp',1);
INSERT INTO `Question` (`idQuestion`,`Title`,`Question`,`HTML-element`,`img`,`type`,`Test_idTest`) VALUES (2,'Quesiton 2','What is 4+5?',NULL,NULL,'mp',1);
INSERT INTO `Question` (`idQuestion`,`Title`,`Question`,`HTML-element`,`img`,`type`,`Test_idTest`) VALUES (3,'Question 3','What 10-2?',NULL,NULL,'mp',1);
INSERT INTO `Question` (`idQuestion`,`Title`,`Question`,`HTML-element`,`img`,`type`,`Test_idTest`) VALUES (4,'Quesiton 4','Where is Nicole Kidman from?',NULL,NULL,'mp',1);



-- -----------------------------------------------------
-- Table `testverktyg`.`QuestionOption`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`QuestionOption` (
  `idQuestionOption` INT(11) NOT NULL AUTO_INCREMENT,
  `QuestionOption` VARCHAR(45) NOT NULL,
  `trueFalse` TINYINT(1) NOT NULL,
  `Question_idQuestion` INT(11) NOT NULL,
  PRIMARY KEY (`idQuestionOption`),
  INDEX `fk_Option_Question1_idx` (`Question_idQuestion` ASC),
  CONSTRAINT `fk_Option_Question1`
    FOREIGN KEY (`Question_idQuestion`)
    REFERENCES `testverktyg`.`Question` (`idQuestion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 13
DEFAULT CHARACTER SET = utf8;

INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (1,'The moon is full',1,1);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (2,'The diameter equals 3 476 km',2,1);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (3,'It\'s not possible to know',1,1);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (4,'9',2,2);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (5,'11',1,2);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (6,'22',1,2);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (7,'3',1,3);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (8,'0',1,3);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (9,'8',2,3);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (10,'Australia',2,4);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (11,'Russia',1,4);
INSERT INTO `QuestionOption` (`idQuestionOption`,`QuestionOption`,`trueFalse`,`Question_idQuestion`) VALUES (12,'USA',1,4);



-- -----------------------------------------------------
-- Table `testverktyg`.`Response`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Response` (
  `idResponse` INT(11) NOT NULL AUTO_INCREMENT,
  `response` VARCHAR(45) NOT NULL,
  `Person_pNr` VARCHAR(12) NOT NULL,
  `Question_idQuestion` INT(11) NOT NULL,
  PRIMARY KEY (`idResponse`),
  INDEX `fk_Response_Person1_idx` (`Person_pNr` ASC),
  INDEX `fk_Response_Question1_idx` (`Question_idQuestion` ASC),
  CONSTRAINT `fk_Response_Question1`
    FOREIGN KEY (`Question_idQuestion`)
    REFERENCES `testverktyg`.`Question` (`idQuestion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `testverktyg`.`Teacher_has_Student`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testverktyg`.`Teacher_has_Student` (
  `Teacher_idTeacher` INT(11) NOT NULL,
  `Student_id` INT(11) NOT NULL,
  PRIMARY KEY (`Teacher_idTeacher`, `Student_id`),
  INDEX `fk_Teacher_has_Student_Student1_idx` (`Student_id` ASC),
  INDEX `fk_Teacher_has_Student_Teacher1_idx` (`Teacher_idTeacher` ASC),
  CONSTRAINT `fk_Teacher_has_Student_Student1`
    FOREIGN KEY (`Student_id`)
    REFERENCES `testverktyg`.`Student` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Teacher_has_Student_Teacher1`
    FOREIGN KEY (`Teacher_idTeacher`)
    REFERENCES `testverktyg`.`Teacher` (`idTeacher`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;

INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (1,1);
INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (1,2);
INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (1,3);
INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (2,4);
INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (2,5);
INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (2,6);
INSERT INTO `Teacher_has_Student` (`Teacher_idTeacher`,`Student_id`) VALUES (1,7);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
